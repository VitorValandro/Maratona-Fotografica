[{"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\index.js":"1","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\reportWebVitals.js":"2","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\pages\\Landing\\Landing.js":"3","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\components\\Topbar\\Topbar.js":"4","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\routes.js":"5","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\pages\\AuthScreen\\AuthScreen.js":"6","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\components\\Photo\\Photo.js":"7","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\components\\PhotoUpload\\PhotoUpload.js":"8","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\services\\api.js":"9","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\pages\\Team\\Team.js":"10","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\services\\auth.js":"11","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\pages\\Dashboard\\Dashboard.js":"12","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\services\\downloads.js":"13","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\global\\global.js":"14"},{"size":552,"mtime":1610651286356,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1610066389857,"results":"17","hashOfConfig":"16"},{"size":1257,"mtime":1612563961679,"results":"18","hashOfConfig":"16"},{"size":1578,"mtime":1612563983998,"results":"19","hashOfConfig":"16"},{"size":628,"mtime":1612204049852,"results":"20","hashOfConfig":"16"},{"size":6495,"mtime":1612563951130,"results":"21","hashOfConfig":"16"},{"size":2925,"mtime":1612563928338,"results":"22","hashOfConfig":"16"},{"size":5456,"mtime":1612563993872,"results":"23","hashOfConfig":"16"},{"size":334,"mtime":1611747828202,"results":"24","hashOfConfig":"16"},{"size":7274,"mtime":1612563971476,"results":"25","hashOfConfig":"16"},{"size":855,"mtime":1612629742513,"results":"26","hashOfConfig":"16"},{"size":8713,"mtime":1612563941757,"results":"27","hashOfConfig":"16"},{"size":815,"mtime":1612464030188,"results":"28","hashOfConfig":"16"},{"size":244,"mtime":1612561086883,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"19p4x12",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\index.js",[],["61","62"],"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\reportWebVitals.js",[],"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\pages\\Landing\\Landing.js",[],"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\components\\Topbar\\Topbar.js",[],"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\routes.js",[],"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\pages\\AuthScreen\\AuthScreen.js",[],"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\components\\Photo\\Photo.js",["63"],"import React, { useEffect, useState } from 'react';\r\nimport { FiX } from 'react-icons/fi';\r\n\r\nimport '../../global/global.css';\r\nimport './Photo.css';\r\nimport api from '../../services/api';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst apiUrl = \"http://localhost:3333\";\r\n\r\nfunction Photo({photo}){\r\n  const [modal, setModal] = useState('none');\r\n  const [subthemeName, setSubthemeName] = useState('');\r\n  const [teamName, setTeamName] = useState('');\r\n\r\n  useEffect(() => {\r\n    getPhotoAssociationsInfo();\r\n  }, []);\r\n\r\n  async function getPhotoAssociationsInfo(){\r\n    await api.get(`/themes/subthemes`)\r\n      .then((response) => {\r\n        const subthemeObject = response.data.filter((subtheme) => {\r\n          return subtheme.id === photo.subthemeId;\r\n        });\r\n        setSubthemeName(subthemeObject[0].title);\r\n      })\r\n      .catch(err => console.log(err));\r\n    \r\n    await api.get(`/teams`)\r\n      .then((response) => {\r\n        const teamObject = response.data.filter((team) => {\r\n          return team.id === photo.teamId;\r\n        });\r\n        setTeamName(teamObject[0].name);\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    return;\r\n  }\r\n\r\n  function handleModal(){\r\n    modal === 'none' ? setModal('flex') : setModal('none');\r\n  }\r\n\r\n  function convertTimestampToDate(timestamp){\r\n    const date = new Date(timestamp);\r\n    const hours = date.getHours() < 10 ? \"0\"+date.getHours() : date.getHours();\r\n    const minutes = date.getMinutes() < 10 ? \"0\"+date.getMinutes() : date.getMinutes();\r\n\r\n    return `${hours}:${minutes} - ${date.getDate()}/${date.getMonth()+1}/${date.getFullYear()}`;\r\n  }\r\n\r\n  return(\r\n      <div className=\"photoContainer\">\r\n        <div className=\"photoHeader\">\r\n          <Link to={`/team/${photo.teamId}`} className=\"teamLink\">\r\n            <span>{teamName}</span>\r\n          </Link>\r\n          <div>\r\n            <span className=\"postHour\">{convertTimestampToDate(photo.createdAt)}</span>\r\n            <span className=\"themeName\">{subthemeName}</span>\r\n          </div>\r\n        </div>\r\n        <img alt=\"Fotografia do time\" className=\"photoImg\" src={`${apiUrl}/uploadedPhotos/${photo.filename}`} onClick={handleModal}></img>\r\n        <div className=\"photoModal\" style={{display:modal}}>\r\n          <FiX size={40} color={\"#FFF\"} className=\"closeModal\" onClick={handleModal}/>\r\n          <div>\r\n            <button type=\"button\" className=\"teamLink\">\r\n              <Link to={`/team/${photo.teamId}`} className=\"teamLink\">\r\n                <span>{teamName}</span>\r\n              </Link>\r\n            </button>\r\n            <span className=\"themeName\">{subthemeName}</span>\r\n          </div>\r\n          <img alt=\"Fotografia do time\" className=\"modalImg\" src={`${apiUrl}/uploadedPhotos/${photo.filename}`}></img>\r\n          <span className=\"modalPostHour\">{convertTimestampToDate(photo.createdAt)}</span>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Photo;","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\components\\PhotoUpload\\PhotoUpload.js",[],"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\services\\api.js",[],"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\pages\\Team\\Team.js",["64","65"],"import React, { useEffect, useState } from 'react';\r\n\r\nimport Topbar from '../../components/Topbar/Topbar';\r\nimport Photo from '../../components/Photo/Photo';\r\nimport PhotoUpload from '../../components/PhotoUpload/PhotoUpload';\r\n\r\nimport { FiUser, FiPlus, FiArrowRight } from 'react-icons/fi';\r\nimport { MdRemoveCircle } from 'react-icons/md';\r\n\r\nimport '../../global/global.css';\r\nimport './Team.css';\r\n\r\nimport api from '../../services/api';\r\nimport { getTeamThatIsAuthenticated, isAuthenticated } from \"../../services/auth\";\r\nimport { useParams } from 'react-router-dom';\r\n\r\nfunction Team() {\r\n  const [showAddMember, setShowAddMember] = useState(false);\r\n  const [memberName, setMemberName] = useState('');\r\n  const [memberRegister, setMemberRegister] = useState('');\r\n  const [validationMsg, setValidationMsg] = useState('');\r\n  const [membersArray, setMembersArray] = useState([]);\r\n  const [photosArray, setPhotosArray] = useState([]);\r\n  const [teamInfo, setTeamInfo] = useState({});\r\n\r\n  const { teamId } = useParams();\r\n\r\n  useEffect(() => {\r\n    getMembersList();\r\n  }, [validationMsg]);\r\n\r\n  useEffect(() => {\r\n    getTeamPhotos();\r\n    getTeamInfo();\r\n    getMembersList();\r\n  }, [teamId]);\r\n\r\n  async function getMembersList(){\r\n    await api.get(`/teams/${teamId}/members`)\r\n      .then((response) => {\r\n        setMembersArray(response.data);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  async function getTeamInfo(){\r\n    await api.get(`/teams/${teamId}`)\r\n      .then((response) => {\r\n        setTeamInfo(response.data);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  async function handleMemberDelete(member){\r\n    await api.delete(`teams/${teamId}/members/${member.id}`)\r\n      .then(response => {\r\n        setValidationMsg('Success'); // essa atribuição é necessária para a tela reagir à mudança\r\n        setValidationMsg(''); // desatribui pra voltar ao normal\r\n      })\r\n      .catch(err => {console.log(err)});\r\n  }\r\n\r\n  async function getTeamPhotos() {\r\n    await api.get(`/photos/teams/${teamId}`)\r\n      .then((response) => {\r\n        setPhotosArray(response.data);\r\n      })\r\n      .catch(err => console.log(err))\r\n  } \r\n\r\n  function handleMemberSubmit(event){\r\n    event.preventDefault();\r\n    const nameRegex = /^[A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'\\s]+$/;\r\n    const registerRegex = /^\\d+$/;\r\n\r\n    if(!nameRegex.test(memberName) || !memberName.trim()){\r\n      setValidationMsg('O nome não deve conter números ou caracteres especiais (além do espaço)')\r\n      return;\r\n    }\r\n\r\n    if(!registerRegex.test(memberRegister)){\r\n      setValidationMsg('A matrícula deve ser composta apenas por números')\r\n      return;\r\n    }\r\n\r\n    api.post(`/teams/${teamId}/members`, { \r\n        'name':memberName, \r\n        'registration':memberRegister \r\n      })\r\n      .then((response) => {\r\n        setValidationMsg('Membro inscrito com sucesso!');\r\n      })\r\n      .catch((err) => {\r\n        setValidationMsg('Um erro ocorreu ao inscrever membro')\r\n        console.log(err);\r\n      })\r\n\r\n    setValidationMsg('');\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <Topbar goBackArrow={true} />\r\n      <div className=\"teamContent\">\r\n        <div className=\"teamInfoContainer\">\r\n          <div className=\"infoContainer\">\r\n            <span className=\"teamName\">{teamInfo.name}</span>\r\n            <span className=\"memberPresentation\">Membros</span>\r\n            <ul className=\"teamMembers\">\r\n              {membersArray.length !== 0 ? (\r\n                membersArray.map(member => {\r\n                  return(\r\n                    <li key={member.id} className=\"memberInfo\">\r\n                      <div>\r\n                        <FiUser size={24} color='#58af9b' />\r\n                        <span className=\"memberName\">{member.name}</span>\r\n                      </div>\r\n                      <div>\r\n                        <span className=\"memberRegister\">{member.registration}</span>\r\n                        {(isAuthenticated() && teamId === getTeamThatIsAuthenticated()) ? (\r\n                          <MdRemoveCircle \r\n                            onClick={() => {handleMemberDelete(member)}} \r\n                            size={24} \r\n                            color=\"#e57878\" \r\n                            style={{marginLeft:'5px', cursor:'pointer'}}\r\n                          />\r\n                        ): (<span></span>)}\r\n                      </div>\r\n                    </li>   \r\n                  );\r\n                })\r\n              ) : (\r\n                <li className=\"memberPresentation memberInfo\">\r\n                  Esse time ainda não tem membros\r\n                </li>\r\n              )}\r\n            </ul>\r\n          </div>\r\n          {(isAuthenticated() && teamId === getTeamThatIsAuthenticated()) ? (\r\n            <div className=\"btnDiv\">\r\n              {!showAddMember ? (\r\n                <button className=\"addMemberBtn\" onClick={() => {setShowAddMember(true)}}><FiPlus size={24} color='#58af9b' /></button>\r\n              ) : (\r\n                <form onSubmit={handleMemberSubmit} className=\"addMemberForm\">\r\n                  <span>Insira os dados para inscrever um novo membro</span>\r\n                  <fieldset>\r\n                    <div className=\"addMemberInputBlock\">\r\n                      <label htmlFor=\"name\">Nome</label>\r\n                      <input \r\n                        value={memberName}\r\n                        type=\"text\"\r\n                        onChange={e => {setMemberName(e.target.value)}}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div className=\"addMemberInputBlock\">\r\n                      <label htmlFor=\"registration\">Matrícula</label>\r\n                      <input \r\n                        value={memberRegister} \r\n                        onChange={e => { setMemberRegister(e.target.value) }} \r\n                        minLength=\"10\"\r\n                        maxLength=\"10\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </fieldset>\r\n                  {validationMsg !== '' ? (\r\n                      <div className=\"validationContainer\">\r\n                        <p className=\"validationMessage\">{validationMsg}</p>\r\n                      </div>\r\n                  ) : (\r\n                    <span></span>\r\n                  )\r\n                  }\r\n                  <button type=\"submit\" className=\"addMemberBtn\" style={{border:'2px dashed #ececec', marginTop:'10px'}}>\r\n                      <FiArrowRight size={24} color='#58af9b'/>\r\n                  </button>\r\n                </form>\r\n              )}   \r\n            </div>\r\n            ) : (<span></span>)\r\n          }\r\n        </div>\r\n        <div style={{alignItems: 'center'}}>\r\n          <div className=\"teamPhotosContainer\">\r\n            {(isAuthenticated() && teamId === getTeamThatIsAuthenticated()) ? (\r\n              <PhotoUpload />\r\n              ): (<span></span>)\r\n            }\r\n            {photosArray.map((photo => {\r\n              return (\r\n                <Photo key={photo.id} photo={photo} />\r\n              )\r\n            }))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Team;","C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\services\\auth.js",[],"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\pages\\Dashboard\\Dashboard.js",[],"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\services\\downloads.js",[],"C:\\Users\\vitor\\Desktop\\prototype\\web\\src\\global\\global.js",[],{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","severity":1,"message":"71","line":18,"column":6,"nodeType":"72","endLine":18,"endColumn":8,"suggestions":"73"},{"ruleId":"70","severity":1,"message":"74","line":30,"column":6,"nodeType":"72","endLine":30,"endColumn":21,"suggestions":"75"},{"ruleId":"70","severity":1,"message":"76","line":36,"column":6,"nodeType":"72","endLine":36,"endColumn":14,"suggestions":"77"},"no-native-reassign",["78"],"no-negated-in-lhs",["79"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getPhotoAssociationsInfo'. Either include it or remove the dependency array.","ArrayExpression",["80"],"React Hook useEffect has a missing dependency: 'getMembersList'. Either include it or remove the dependency array.",["81"],"React Hook useEffect has missing dependencies: 'getMembersList', 'getTeamInfo', and 'getTeamPhotos'. Either include them or remove the dependency array.",["82"],"no-global-assign","no-unsafe-negation",{"desc":"83","fix":"84"},{"desc":"85","fix":"86"},{"desc":"87","fix":"88"},"Update the dependencies array to be: [getPhotoAssociationsInfo]",{"range":"89","text":"90"},"Update the dependencies array to be: [getMembersList, validationMsg]",{"range":"91","text":"92"},"Update the dependencies array to be: [getMembersList, getTeamInfo, getTeamPhotos, teamId]",{"range":"93","text":"94"},[518,520],"[getPhotoAssociationsInfo]",[1081,1096],"[getMembersList, validationMsg]",[1193,1201],"[getMembersList, getTeamInfo, getTeamPhotos, teamId]"]